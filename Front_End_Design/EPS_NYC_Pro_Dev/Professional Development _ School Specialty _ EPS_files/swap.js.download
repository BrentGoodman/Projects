/*! swap.js | Copyright Â© 2011-2023 CallRail Inc. | License: www.callrail.com/legal */!function(){"use strict";var Wrappers=function(){function e(){}return e.documentReferrer=function(){return document.referrer},e.documentURL=function(){return document.URL},e.documentCookie=function(e){return e?document.cookie=e:document.cookie},e.isDebug=function(){var e;return(null===(e=window.CallTrkSwap)||void 0===e?void 0:e._isDebug)||!1},e.windowLocation=function(){return window.location},e}(),Debug=function(){function e(){}return e._debugEnabled=function(){return!!Wrappers.windowLocation().href.match(/crl?dbg/)},e.doneSwaps={},e.foundTargets=[],e}(),Polyfills=function(){function e(){}return e.jsonify=function(e){var t=Array.prototype.toJSON;if(!t)return JSON.stringify(e);delete Array.prototype.toJSON;var r=JSON.stringify(e);return Array.prototype.toJSON=t,r},e.contains=function(t,r){return e.indexOf(t,r)>-1},e.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1},e.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},e.documentReady=function(e){"loading"!==document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){"loading"!==document.readyState&&e()})},e.hasClass=function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},e.isEmptyObject=function(e){for(var t in e)return!1;return!0},e.assign=function(e,t){for(var r in t)e[r]=t[r]},e}(),Storage=function(){function e(){}return e.hasCookie=function(t){return null!=Wrappers.documentCookie()&&!(e.cookieValues(t).length<1)},e.cookieValues=function(e){for(var t=e+"=",r=Wrappers.documentCookie().split(";"),n=[],a=0;a<r.length;a++){for(var o=r[a];" "===o.charAt(0);)o=o.substring(1,o.length);0===o.indexOf(t)&&n.push(unescape(o.substring(t.length,o.length)))}return n},e.setItem=function(t,r){return t="calltrk-"+t,r===undefined?window.localStorage.removeItem(t):window.localStorage.setItem(t,Polyfills.jsonify(r)),e.getItem(t)},e.getItem=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0;r<e.length;r++){var n="calltrk-"+e[r],a=window.localStorage.getItem(n);if(a)return JSON.parse(a)}return null},e.removeItem=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0;r<e.length;r++){var n="calltrk-"+e[r];window.localStorage.removeItem(n)}return null},e}(),Session=function(){function e(){}return e.generateUUID=function(){var e=window.crypto||window.msCrypto;return e&&e.getRandomValues?"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(t){var r=parseInt(t,10);return(r^e.getRandomValues(new Uint8Array(1))[0]&15>>r/4).toString(16)}):"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},e.hasWordpressCookies=function(){return window.crwpVer>=1},e.wpProxy=function(){return 2===window.crwpVer},e.proxyPath=function(e){var t;try{t=new URL(e)}catch(r){t=document.createElement("a"),t.href=e}return"/index.php?rest_route=/calltrk/sessions"+t.pathname},e.crossSubdomain=function(){var ns=CallTrk.firstNamespace();return ns&&ns.cross_subdomain},e.cookieDuration=function(){return CallTrk.firstNamespace().cookie_duration},e.isMulti=function(){return!!CallTrk.firstNamespace().multiswap_id},e.namespaceIds=function(){var e=[];return CallTrk.eachNamespace(function(ns){return e.push(ns.id)}),e},e.nearestTLD=function(){if(CallTrkSwap._nearestTLD)return CallTrkSwap._nearestTLD;var t=Wrappers.documentCookie(),r=Wrappers.windowLocation().hostname,n=r.split(".");if(""===r)return"";for(var a=n.length-1;a>=0;--a){var o=n.slice(a).join(".");if(e.createCookie("calltrk_nearest_tld",o,3600,o),t!==Wrappers.documentCookie())return e.eraseCookie("calltrk_nearest_tld",o),CallTrkSwap._nearestTLD=o,o}},e.createCookie=function(t,r,n,a){var o="";if(null==n&&(n=e.cookieDuration()),n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),o="; expires="+i.toUTCString()}var s=t+"="+escape(r)+o+"; path=/";e.crossSubdomain()&&!1!==a&&!a&&(a=e.nearestTLD()),a&&(s+="; domain="+a),s+="; samesite=Lax";var c=Storage.getItem(t);return c&&c==r?Wrappers.documentCookie(s):Storage.hasCookie(s)?Storage.setItem(t,r):(Storage.setItem(t,r),Wrappers.documentCookie(s)),s},e.eraseCookie=function(t,r){e.createCookie(t,"",-1,r),Storage.removeItem(t)},e.crDeleteOldCookies=function(){e.eraseCookie("calltrk_referrer"),e.eraseCookie("calltrk_landing"),e.eraseCookie("calltrk_session_id");var t=document.cookie.match(/calltrk_session_swap_numbers_(\d+)=/g);if(t)for(var r=0;r<t.length;++r){var n=t[r],a=/[0-9]+/g,o=(n.match(a)||[])[0];e.eraseCookie("calltrk_session_id_"+o),e.eraseCookie("calltrk_session_swap_numbers_"+o)}},e.readCookie=function(t){var r=Storage.getItem(t),n=Storage.cookieValues(t);return n.length<=1&&!r?(Storage.setItem(t,n[0]),n[0]||null):r?(0===n.length&&e.createCookie(t,r),r):(e.crossSubdomain()?e.eraseCookie(t,!1):e.eraseCookie(t,e.nearestTLD()),n=Storage.cookieValues(t),n[0]||null)},e.getSessionID=function(t){if(!t){if(CallTrkSwap._session_id)return CallTrkSwap._session_id;t="calltrk_session_id"}var r=e.readCookie(t);return r||CallTrk.eachNamespace(function(ns){r||(r=e.readCookie("calltrk_session_id_"+ns.id.toString()))}),r||(r=e.generateUUID(),e.createCookie(t,r)),CallTrkSwap._session_id=r,r},e.getFormCaptureCookie=function(t){if(!t){if(e._fcid)return e._fcid;t="calltrk_fcid"}var r=e.readCookie(t);return r||(r=e.generateUUID()),e.createCookie(t,r),e._fcid=r,r},e}(),Urls=function(){function e(){}return e.getCurrentReferrer=function(){var t=e.getURLParameter("utm_referrer");return t||(t=Wrappers.documentReferrer()),t||(t="direct"),t},e.getReferrerKey=function(t,r){var n;t=t||"direct";var a=/utm_medium=([cp]pc|paid_social|paid|.*_ad.*)/i;if(r.match(/ndclid=/i))n="nextdoor_paid";else if(t.match(/doubleclick/i)||r.match(/dclid=|wbraid=|gbraid=/i))n="google_paid";else if(t.match(/google/i)&&!t.match(/mail\.google\.com/i)){if(r.match(/gclid=/i))return"google_paid";n=t.match(/googleadservices/i)||r.match(/utm_(medium|source)=[cp]pc/i)||r.match(/(matchtype|adposition)=/i)?"google_paid":"google_organic"}else n=r.match(/gclid=/i)?t.match(/(\/|\.)youtube\./i)||r.match(/utm_source=.*youtube.*/i)?"youtube_paid":r.match(/msclkid=/i)?"bing_paid":"google_paid":r.match(/msclkid=/i)?t.match(/(\/|\.)duckduckgo\./i)||r.match(/utm_source=.*duckduckgo.*/i)?"duckduckgo_paid":"bing_paid":t.match(/(\/|\.)bing\./i)||r.match(/utm_source=.*bing.*/i)?r.match(a)||r.match(/msclkid=/i)?"bing_paid":"bing_organic":t.match(/msn\.com/i)?"bing_paid":t.match(/yahoo/i)&&!t.match(/mail\.yahoo\.com/i)?r.match(a)?"yahoo_paid":"yahoo_organic":r.match(/fb_ad_id=/i)?t.match(/(\/|\.)instagram\./i)||r.match(/utm_source=.*instagram.*/i)?"instagram_paid":"facebook_paid":r.match(/(fbclid=)/i)&&t.match(/(\/|\.)instagram\./i)?r.match(a)?"instagram_paid":"instagram_organic":t.match(/(\/|\.)facebook\./i)||r.match(/(fbclid=|utm_source=.*facebook.*)/i)?r.match(a)?"facebook_paid":"facebook_organic":t.match(/(\/|\.)instagram\./i)||r.match(/utm_source=.*instagram.*/i)?r.match(a)?"instagram_paid":"instagram_organic":t.match(/(\/|\.)duckduckgo\./i)||r.match(/utm_source=.*duckduckgo.*/i)?r.match(a)?"duckduckgo_paid":"duckduckgo_organic":t.match(/(\/|\.)nextdoor\./i)||r.match(/utm_source=.*nextdoor.*/i)?r.match(a)?"nextdoor_paid":"nextdoor_organic":t.match(/(\/|\.)linkedin\./i)||r.match(/utm_source=.*linkedin.*/i)?r.match(a)?"linkedin_paid":"linkedin_organic":t.match(/(\/|\.)twitter\./i)||r.match(/utm_source=.*twitter.*/i)?r.match(a)?"twitter_paid":"twitter_organic":t.match(/(\/|\.)pinterest\./i)||r.match(/utm_source=.*pinterest.*/i)?r.match(a)?"pinterest_paid":"pinterest_organic":t.match(/(\/|\.)spotify\./i)||r.match(/utm_source=.*spotify.*/i)?r.match(a)?"spotify_paid":"spotify_organic":t.match(/(\/|\.)yelp\./i)||r.match(/utm_source=.*yelp.*/i)?r.match(a)||r.match(/utm_(medium|source|campaign)=yelp_ad/i)||r.match(/campaign_code=yelp_ad/i)?"yelp_paid":"yelp_organic":t.match(/(\/|\.)youtube\./i)||r.match(/utm_source=.*youtube.*/i)?r.match(a)?"youtube_paid":"youtube_organic":"direct"===t?r.match(a)&&r.match(/utm_source=.*google.*/i)?"google_paid":"direct":e.getReferrerDomain(t);return n},e.getReferrerDomain=function(e){var t=e.split("/")[2],r=t.split(".");return r.length>2?r[r.length-2]+"."+r[r.length-1]:t},e.getHostnameAndPath=function(){var e=document.createElement("a");e.href=Wrappers.windowLocation().href;var t=e.pathname;return 0!==t.indexOf("/")&&(t="/"+t),e.hostname+t},e.getURLParameter=function(e){var t="[?|&]"+e+"=([^&;]+?)(&|#|;|$)",r=new RegExp(t).exec(Wrappers.windowLocation().search)||[null,""];return decodeURIComponent(r[1].replace(/\+/g,"%20"))||null},e.urlContainsParam=function(e){var t="(\\?|&)"+e+"($|&|=)";return Wrappers.windowLocation().href.match(t)},e.param=function(t,r,n){if("string"==typeof t)return t;r||(r=[]);for(var a in t){var o=t[a];t.hasOwnProperty(a)&&o&&(n&&(a=n+"["+(Polyfills.isArray(t)&&!Polyfills.isArray(t[0])?"":a)+"]"),"object"!=typeof o?r.push(encodeURIComponent(a)+"="+encodeURIComponent(o)):e.param(o,r,a))}return n?undefined:r.join("&")},e}(),Dom=function(){function e(){}return e.injectCss=function(){var e=document.documentElement,t="crjs";e.classList?e.classList.add(t):e.className+=" "+t;var r=document.createElement("style");r.setAttribute("type","text/css"),r.textContent!==undefined&&(r.textContent=".crjs .phoneswap { visibility: hidden; }");var n=document.querySelector("head");n&&n.appendChild(r)},e.domEach=function(e,t){for(var r=document.querySelectorAll(e),n=0;n<r.length;n++)t(r[n])},e.recurseDOM=function(t,r,n){for(var a,o=n||t,i=1;o;){var s=null;!1===r(o)||o.nodeType!==i&&!o.shadowRoot||(s=o.shadowRoot?null===(a=o.shadowRoot)||void 0===a?void 0:a.firstChild:o.firstChild),o.nextSibling&&o!==t&&e.recurseDOM(t,r,o.nextSibling),o=s}},e.traverseDOM=function(t,r){var n=["src","srcset","title","phone"],a=/(\bclk[ng]\/(sms|tel|imessage))|(^(sms|tel|imessage))/i,o=function(e,r,n){var a;a="undefined"==typeof getComputedStyle?e.currentStyle:getComputedStyle(e);var o=a[r]||n&&a[n];if(o){var i=t(o);null!=i&&(e.style[r]=i)}},i=function(e,r){var n=e.getAttribute(r);if(n){var a=t(n,r);null!=a&&e.setAttribute(r,a)}},s=function(e,t){for(var r=0;r<e.length;r++)i(t,e[r])},c=function(e){var t=e.getAttribute("href");t&&t.match(a)&&i(e,"href")};e.domEach(".cr_image, .cr_image *",function(e){o(e,"background"),o(e,"backgroundImage")}),e.recurseDOM(r,function(e){switch(e.nodeType){case 1:if(["SCRIPT","NOSCRIPT"].includes(e.tagName)||e.hasAttribute("data-calltrk-noswap"))return!1;s(n,e),c(e);break;case 3:var r=t(e.nodeValue);null!=r&&(Wrappers.isDebug()&&(e.parentNode.className+=" calltrk-swap-occurred"),e.nodeValue=r)}})},e.makePhoneSwapVisible=function(){e.domEach(".phoneswap",function(e){e.style.visibility="visible"})},e.domTargets=function(t){var r,n,a=[],o=/\D/g;return e.traverseDOM(function(e){r=CallTrkSwap.stringTargets(e);for(var t=0;t<r.length;t++)n=r[t].replace(o,""),n.length>10&&(n=n.slice(n.length-10)),-1===Polyfills.indexOf(a,n)&&a.push(n);CallTrk.eachNamespace(function(ns){ns.exactTargetsIn(e,function(e){a.push(e)})})},t),a},e.startObserving=function(){e.observer||"undefined"==typeof MutationObserver||(e.observer=new MutationObserver(e.mutationCallback),e.observer.observe(document.body,{childList:!0,subtree:!0}))},e.stopObserving=function(){e.observer&&(e.observer.disconnect(),e.observer=undefined)},e.mutationCallback=function(t){for(var r=CallTrk.firstNamespace().session_observer,n=!1,a=0;a<t.length;a++)for(var o=t[a],i=0;i<o.addedNodes.length;i++){var s=o.addedNodes[i];CallTrkSwap.startSourceSwap(s),r&&(n=n||e.domTargets(s).length>0)}r&&n&&CallTrkSwap.checkSessionSwap(!1)},e.visibleParent=function(){var e;try{if(window.self===window.parent||window.self.document===(null===(e=window.top)||void 0===e?void 0:e.document))return!1}catch(e){return!1}return!0},e.waitingParent=function(){try{if("loading"===window.parent.document.readyState)return!0}catch(e){return!1}return!1},e.iframeAwareReady=function(t){e.readyRan=!1;var r=function(){e.readyRan||(e.readyRan=!0,Polyfills.documentReady(t))};if(!e.visibleParent()||!e.waitingParent())return r();window.addEventListener("message",function(e){"calltrkReady"===e.data&&r()}),"loading"!==window.parent.document.readyState&&r(),setTimeout(r,2e3)},e.whenPageVisible=function(e){"prerender"!==document.visibilityState?e():document.addEventListener&&document.addEventListener("visibilitychange",e,!1)},e.iframeConflict=function(t){if(!e.visibleParent())return!1;var r=window.top&&window.top.CallTrk&&window.top.CallTrk._namespaces;return r&&r.indexOf(t.toString())>=0},e.broadcastReady=function(){var e=window.frames;if(0!==e.length)for(var t=0;t<e.length;t++)e[t].postMessage("calltrkReady","*")},e.getScript=function(e,t,r){var n=document.createElement("script");n.type="text/javascript",-1!==e.indexOf("?")?e+="&":e+="?",e+="t="+(new Date).getTime().toString(),e+="&"+Urls.param(t),Session.wpProxy()&&r&&(e=Session.proxyPath(e)),n.src=e,document.body.appendChild(n)},e}(),Helpers=function(){function e(){}return e.post=function(e){var t=new XMLHttpRequest;return t.open("POST",e),t},e.postScript=function(t,r,n){var a=e.post(t);a.setRequestHeader("Content-Type","text/plain"),a.setRequestHeader("Accept","application/json"),a.onload=function(){var e=JSON.parse(a.response);n(e)},a.send(Polyfills.jsonify(r))},e.postCookies=function(t,r,n){var a=e.post(t);a.setRequestHeader("Content-Type","application/json"),a.onload=function(){var e=a.status;n(e)},a.send(Polyfills.jsonify(r))},e.parseCookieResponse=function(e,t,r){204!==e&&(window.crwpVer=0,Session.createCookie("calltrk_referrer",t),Session.createCookie("calltrk_landing",r))},e.postWordpressCookies=function(t,r){var n={calltrk_referrer:t,calltrk_landing:r,calltrk_session_id:Session.getSessionID(),domain:Session.nearestTLD(),duration:CallTrk.firstNamespace().cookie_duration};e.postCookies("/index.php?rest_route=/Calltrk/v1/store",n,function(n){e.parseCookieResponse(n,t,r)})},e}(),IntegrationData=function(){function IntegrationData(){}return IntegrationData.getGoogleContentExperimentCookies=function(e){if(e.google_experiments!==undefined)return e.google_experiments;var t;if(t=Session.readCookie("calltrk_google_experiments")?Session.readCookie("calltrk_google_experiments"):"",Urls.getURLParameter("utm_expid")){var r=Urls.getURLParameter("utm_expid"),n=Urls.getHostnameAndPath(),a=r+","+n;t.indexOf(a)<0&&(t=""!==t?t+"|"+a:a),Session.createCookie("calltrk_google_experiments",t)}return e.google_experiments=t,t},IntegrationData.getIntegrationData=function(e){var t={},r={};return CallTrk.eachNamespace(function(ns){if(!e||Polyfills.indexOf(e,ns.id)>-1){var n=ns.getIntegrationData(r);Polyfills.assign(t,n)}}),t},IntegrationData.getInstanceIntegrationData=function(cookieCache,namespaceCookies,namespaceScripts){var params={google_content_cookies:IntegrationData.getGoogleContentExperimentCookies(cookieCache)};for(var reportName in namespaceCookies){var cookie=namespaceCookies[reportName],value=void 0;cookieCache[cookie]!==undefined?params[reportName]=cookieCache[cookie]:(value=Session.readCookie(cookie),cookieCache[cookie]=value,null!==value&&(params[reportName]=value))}for(var reportAs in namespaceScripts){var code=namespaceScripts[reportAs];try{var rc=eval(code);"object"!=typeof rc||Polyfills.isArray(rc)||(rc=Urls.param(rc)),params[reportAs]=rc}catch(e){}}return params},IntegrationData.integrationRetry=function(e){var t=IntegrationData.getIntegrationData(e),r=CallTrk.firstNamespace();Polyfills.isEmptyObject(t)||(t.uuid=Session.getSessionID(),Session.isMulti()||(t.ids=e),Dom.getScript(r.icapURL(),t))},IntegrationData}(),Replacer=function(){function e(){}return e.standardReplace=function(t,r,n){if(e._numberRegexCache||(e._numberRegexCache={}),!e._numberRegexCache[r]){var a=r.substring(0,3),o=r.substring(3,6),i=r.substring(6,10),s="(\\(?)"+a+"(\\))?"+e.CHAR_SEP+o+e.CHAR_SEP+i,c=n.substring(0,3),u=n.substring(3,6),l=n.substring(6,10),p="$1"+c+"$2$3"+u+"$4"+l;e._numberRegexCache[r]=[i,new RegExp(s,"g"),p]}var d=e._numberRegexCache[r];if(t.indexOf(d[0])>-1){if(Debug._isDebug){var f=t.match(d[1]);if(f){var g=f[0],m=g.replace(d[1],d[2]);Debug.doneSwaps[g]=m}}t=t.replace(d[1],d[2])}return t},e.replacementForPlainText=function(e,t){var r=t.substring(0,3),n=t.substring(3,6),a=t.substring(6,10),o="("+r+") "+n+"-"+a,i=r+"-"+n+"-"+a,s=r+"."+n+"."+a;return e=e.replace("###phone###",o),e=e.replace("###phone-dashes###",i),e=e.replace("###phone-dots###",s)},e.CHAR_SEP="([-. "+String.fromCharCode(160)+"]?)",e.NUM_REGEX=new RegExp("(\\(?)\\d{3}(\\))?"+e.CHAR_SEP+"\\d{3}"+e.CHAR_SEP+"\\d{4}\\b","g"),e.INTL_NUM_REGEX=/[(+]?[(+]?(?:[\d][ \-.()\u202F\u00A0]{0,2}){8,21}[\d]/g,e}(),NumberSwap=function(){function e(){}return e.adjustExactFormat=function(e){var t={advanced:{},simple:{}};for(var r in e)if(-1!==r.indexOf(",")){var n=r.split(","),a=decodeURIComponent(n[0]),o=decodeURIComponent(n[1]);if(Polyfills.isArray(e[r])){var i=Replacer.replacementForPlainText(o,e[r][0]);t.advanced[i]=["."===e[r][1][0]?a:o,e[r][1]]}else t.advanced[a]=[o,e[r]]}else t.simple[r]=e[r];return t},e}(),Performance=function(){function e(){}return e.perfData=function(){if(e._perfData)return e._perfData;if(e._perfData={},window.performance)try{var t=window.performance.getEntriesByType("resource").filter(function(e){return e.name.match(/swap\.js/)})[0];if(t){var r=t.encodedBodySize>0&&t.transferSize>0&&t.transferSize<t.encodedBodySize,n=0===t.duration;if(r||n)return{};var a=t.secureConnectionStart>0?t.secureConnectionStart:t.connectEnd;e._perfData={dns:t.domainLookupEnd-t.domainLookupStart,conn:a-t.connectStart,tls:t.connectEnd-a,wait:t.responseStart-t.requestStart,recv:t.responseEnd-t.responseStart}}}catch(e){}return e._perfData},e.reset=function(){e._perfData={}},e}(),PhoneNumbers=function(){function e(){}return e.defaultNumberFormat=function(e){return"object"==typeof e&&null!==e&&(e=e.national_string),e},e}(),Poll=function(){function e(){}return e.pollSessionURL=function(){var ns=CallTrk.firstNamespace();return ns.buildURL("poll_session",{multiswap_id:ns.multiswap_id,host:ns.swap_session_host,uuid:Session.getSessionID(),multiswap_token:ns.multiswap_token})},e.pollSession=function(){e.pollUnwatch();var ns=CallTrk.firstNamespace(),t={},r=Date.now(),n=.9*ns.session_poll_interval;setTimeout(e.pollWatch,ns.session_poll_interval),CallTrkSwap.lastPoll&&r-CallTrkSwap.lastPoll<n||(CallTrkSwap.lastPoll=r,Session.isMulti()||(t.ids=Session.namespaceIds()),Dom.getScript(e.pollSessionURL(),t))},e.pollInit=function(){var t=CallTrk.firstNamespace().session_poll_interval;CallTrkSwap.pollInitted||(CallTrkSwap.pollInitted=!0,setTimeout(e.pollWatch,t))},e.pollWatch=function(){document.addEventListener("mousemove",e.pollSession),document.addEventListener("keypress",e.pollSession),window.addEventListener("focus",e.pollSession)},e.pollUnwatch=function(){document.removeEventListener("mousemove",e.pollSession),document.removeEventListener("keypress",e.pollSession),window.removeEventListener("focus",e.pollSession)},e}(),ScanString=function(){function e(){}return e.scan=function(t,r,n,a,o){var i=a!==undefined,s=function(r,a){var o=e.intlStringTargets(t?t.trim():t);if(o.length>0){for(var i="",s=0;s<o.length;s++)i=a(n,o[s]);return i}return t},c=function(n,a){if("^"===r.charAt(0)){if("href"===o)return u(n.e164,a);var i=e.findFormat(a,n.formats);return null!==i?u(i,a):u(n.national_string,a)}return Replacer.standardReplace(t,r,n.national_string)},u=function(n,a){var o=a.replace(/\D/g,"");if(r.slice(1)===o.slice(o.length-8)){var i=new RegExp(e.escapeRegExp(a),"g");Debug._isDebug&&(Debug.doneSwaps[t]=n),t=t.replace(i,n)}return t};if(i||Polyfills.isArray(n)){if(t.indexOf(r)>-1){var l=Replacer.replacementForPlainText(i?a:n[0],i?n:n[1]);Debug._isDebug&&(Debug.doneSwaps[r]=l),t=t.replace(r,l)}}else t="object"==typeof n&&null!==n?s(n,c):"^"===r.charAt(0)?s(n,u):Replacer.standardReplace(t,r,n);return t},e.stringTargets=function(e){return e&&e.match(Replacer.NUM_REGEX)||[]},e.intlStringTargets=function(e){return e&&e.match(Replacer.INTL_NUM_REGEX)||[]},e.escapeRegExp=function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},e.findFormat=function(t,r){for(var n in r)if(e.isSameFormat(t,r[n]))return n;return null},e.isSameFormat=function(e,t){return new RegExp(t.slice(1,-1)).test(e)},e}(),CallTrkSwap=function(){function e(e){Polyfills.assign(this,e),window.CallTrk.pushNamespace("namespace_"+this.id,this)}return Object.defineProperty(e.prototype,"_perfData",{get:function(){return Performance.perfData()},enumerable:!1,configurable:!0}),e.log=function(t,r){Wrappers.isDebug()&&(r||(r=t,t="swap"),e._log.push(t.toString()+": "+r))},e.prototype.log=function(t){e.log(this.id,t)},e.prototype.hasFormsOrChat=function(){return this.chat_or_form_exists},e.prototype.run=function(){this.referrer=this.getReferrer(),this.landing=this.getLanding(),this.referrer_key=Urls.getReferrerKey(this.referrer,this.landing),this.createReferrerAndLandingCookies(),this.applyTrumpLandingPage(),this.applyTrumpSources(),this.getWidgetScripts()},e.prototype.applyTrumpSources=function(){if(this.trump_sources){var t=Urls.getReferrerKey(Wrappers.documentReferrer(),Wrappers.documentURL());Polyfills.contains(["google_paid","yahoo_paid","bing_paid"],t)&&(Session.crDeleteOldCookies(),delete e._referrer,delete e._landing,e._referrerAndLandingCookiesCreated=!1,this.referrer=Wrappers.documentReferrer(),this.landing=Wrappers.documentURL(),this.createReferrerAndLandingCookies(),this.referrer_key=t)}},e.prototype.applyTrumpLandingPage=function(){if(this.trump_landing_param){var t=this.trump_landing_page_param;Urls.urlContainsParam(t)&&(Session.crDeleteOldCookies(),delete e._referrer,delete e._landing,e._referrerAndLandingCookiesCreated=!1,this.referrer=Wrappers.documentReferrer(),this.landing=Wrappers.documentURL(),this.createReferrerAndLandingCookies(),this.referrer_key=Urls.getReferrerKey(this.referrer,this.landing))}},e.prototype.exactTargetsIn=function(e,t){for(var r=0;r<this.session_exact_targets.length;r++){var n=this.session_exact_targets[r];e.indexOf(n)>=0&&t(this.session_exact_targets[r])}},e.swapCleanup=function(){delete Replacer._numberRegexCache,CallTrk.eachNamespace(function(ns){ns._storedSwapCache=null})},e.mergeStoredSwaps=function(e){var t=e.global;CallTrk.eachNamespace(function(ns){t&&ns.mergeStoredSwaps(t),e[ns.id]&&ns.mergeStoredSwaps(e[ns.id])})},e.mergeUnassignedSwaps=function(e){var t=e.global;CallTrk.eachNamespace(function(ns){t&&ns.mergeUnassignedSwaps(t),e[ns.id]&&ns.mergeUnassignedSwaps(e[ns.id])})},e.prototype.mergeStoredSwaps=function(e){var t=this.getStoredSwaps();for(var r in e)e[r]?t[r]=e[r]:t[r]&&delete t[r];this.assigns(t)},e.prototype.mergeUnassignedSwaps=function(e){var t=this.getUnassignedSwaps();for(var r in e)if(e[r]){var n=t.indexOf(r);n>-1&&t.splice(n,1)}else-1===t.lastIndexOf(r)&&t.push(r);this.unassigns(t)},e.prototype.getStoredSwaps=function(){var e=this.assigns();return e||{}},e.prototype.getUnassignedSwaps=function(){var e=this.unassigns();return e||[]},e.prototype.unassigns=function(t){return t?e._unassigns=t:e._unassigns},e.prototype.assigns=function(e){var t=this.id+"-assigns-"+Session.getSessionID();return e?Storage.setItem(t,e):Storage.getItem(t)},e.prototype.swapString=function(e,t){var r=this;return this._storedSwapCache||(this._storedSwapCache=NumberSwap.adjustExactFormat(this.getStoredSwaps())),["advanced","simple"].forEach(function(n){for(var a in r._storedSwapCache[n]){var o=r._storedSwapCache[n][a];e=ScanString.scan(e,a,o,undefined,t)}},this),e},e.startSourceSwap=function(t){t=t||document.body;var r=e.matchingSourceTrackers(),n=function(e,t){for(var n=e,a=0;a<r.length;a++){var o=PhoneNumbers.defaultNumberFormat(r[a].number);for(var i in r[a].advanced_swap_targets){var s=r[a].advanced_swap_targets[i];n=ScanString.scan(n,i,o,s,t)}o=r[a].number;for(var c=0;c<r[a].swap_targets.length;c++){var u=r[a].swap_targets[c];n=ScanString.scan(n,u,o,undefined,t)}}if(n!==e)return n};if(0!==r.length){var a=n(document.title);if(a&&(document.title=a),Dom.traverseDOM(n,t),window.Cufon)try{window.Cufon.refresh()}catch(e){}}},e.startSessionSwap=function(t,r){var n=this,a=["advanced","simple"],o=NumberSwap.adjustExactFormat(t),i=document.title;r=r||document.body,a.forEach(function(e){for(var t in o[e])i=ScanString.scan(i,t,o[e][t])},this);for(var s in CallTrk._namespaceObjs)i=CallTrk._namespaceObjs[s].swapString(i);if(i!==document.title&&(document.title=i),Dom.traverseDOM(function(e,t){var r=e;Debug._isDebug&&Debug.foundTargets.push(e),a.forEach(function(e){for(var n in o[e])r=ScanString.scan(r,n,o[e][n],undefined,t)},n);for(var i in CallTrk._namespaceObjs)r=CallTrk._namespaceObjs[i].swapString(r,t);if(r!==e)return r},r),e.swapCleanup(),window.Cufon)try{window.Cufon.refresh()}catch(e){}CallTrk.firstNamespace().mutation_observer&&Dom.startObserving(),Dom.makePhoneSwapVisible()},e.checkSessionSwap=function(t,r){r=r||document.body;var n={},a=null,o=!1,i=!1;if(CallTrk.eachNamespace(function(ns){ns.hasSessionTracker()&&(i=!0,a=ns.session_poll_interval,o=o||ns.session_polling)}),i){for(var s=Dom.domTargets(r),c=!1,u=t,l=0;l<s.length;l++)n[s[l]]=null,Debug._isDebug&&Debug.foundTargets.push(s[l]);CallTrk.eachNamespace(function(ns){var e=ns.checkSessionSwap(n);c=c||e}),c&&e.startSessionSwap({},r),CallTrk.eachNamespace(function(ns){u=u||ns.checkUnassignedSwaps(n)}),u&&(CallTrk.firstNamespace().getSecondScript(n,t),a&&o&&Poll.pollInit())}CallTrk.firstNamespace().mutation_observer&&Dom.startObserving(),Polyfills.isEmptyObject(n)&&Dom.makePhoneSwapVisible()},e.prototype.checkUnassignedSwaps=function(e){for(var t=this.getUnassignedSwaps(),r=this.assigns()||{},n=Object.keys(e),a=0;a<n.length;a++){var o=n[a];if(-1===t.indexOf(o)&&!(o in r))return!0}return!1},e.checkFormsOrChat=function(){var e=!1,t=!1;CallTrk.eachNamespace(function(ns){e=e||ns.hasSessionTracker(),t=t||ns.hasFormsOrChat()}),!e&&t&&CallTrk.firstNamespace().getSecondScript({},!0)},e.prototype.checkSessionSwap=function(e){var t=this.getStoredSwaps(),r=!1;for(var n in t){var a=t[n];if(!e[n])if(null===e[n])e[n]=a,r=!0;else if(-1!==n.indexOf(",")){var o=n.split(","),i=decodeURIComponent(o[0]);null===e[i]&&(delete e[i],e[n]=a,r=!0)}}return r},e.prototype.youTubeMatch=function(e){return"youtube_paid"===this.referrer_key&&Polyfills.contains(e,"google_paid")},e.prototype.hasReferrerMatch=function(e){if(this.youTubeMatch(e))return!0;if(Polyfills.contains(e,this.referrer_key))return!0;var t=!!this.referrer,r="direct"===this.referrer||""===this.referrer;if(t&&!r){var n=Urls.getReferrerDomain(this.referrer);return Polyfills.contains(e,n)}return!1},e.matchingSourceTrackers=function(){var e=[];return CallTrk.eachNamespace(function(ns){ns.is_bot||e.push.apply(e,ns.matchingSourceTrackers())}),e},e.prototype.matchingSourceTrackers=function(){for(var e=[],t=0;t<this.source_trackers.length;t++){var r=this.source_trackers[t];if("all"!==r.referrer_tracking_source){-1!==r.referrer_tracking_source.indexOf("landing")&&-1!==this.landing.indexOf(r.landing_tracking_source)?e.push(r):this.hasReferrerMatch(r.referrer_keys)&&e.push(r)}else e.push(r)}return e},e.prototype.domlessSessionSwap=function(t,r){if(!this.hasSessionTracker()||!t||0===t.length)return void r({});for(var n={},a=0;a<t.length;a++)n[t[a]]=null;e.swapCallback=r,this.getSecondScript(n,!1,!0)},e.prototype.hasSessionTracker=function(){return this.session_number_target_exists||this.session_exact_targets.length>0},e.swapEntry=function(){var t=e;t.startSwaps(),window.Squarespace&&window.Squarespace.onInitialize&&window.Squarespace.onInitialize(window.Y,function(){t.startSwaps()})},e.startSwaps=function(){document.removeEventListener&&document.removeEventListener("visibilitychange",e.swapEntry,!1),Dom.iframeAwareReady(function(){var t=e;Debug.doneSwaps={},Debug.foundTargets=[],t.startSourceSwap(),t.checkSessionSwap(!0),t.checkFormsOrChat(),Dom.broadcastReady()})},e.prototype.buildURL=function(e,t){var r=this.endpoints[e];for(var n in t)r=r.replace("$"+n,t[n]);return this.force_https&&!r.match(/https:/)&&(r="https:"+r),Session.wpProxy()&&(r=Session.proxyPath(r)),r&&r.indexOf("app.calltrk")&&r.indexOf("form_capture")&&(r=r.replace("app.calltrk","trk.calltrk")),r},e.prototype.getIntegrationData=function(e){var t=this.data_collection_config.cookies,r=this.data_collection_config.scripts;return IntegrationData.getInstanceIntegrationData(e,t,r)},e.prototype.icapURL=function(){return this.buildURL("integration_retry",{multiswap_id:this.multiswap_id,multiswap_token:this.multiswap_token,version:"12",host:this.swap_session_host})},e.prototype.swapSessionURL=function(){return this.buildURL("multiswap_session",{multiswap_id:this.multiswap_id,host:this.swap_session_host,version:"12",multiswap_token:this.multiswap_token})},e.prototype.createReferrerAndLandingCookies=function(){e._referrerAndLandingCookiesCreated||(Session.hasWordpressCookies()?Helpers.postWordpressCookies(this.referrer,this.landing):(Session.createCookie("calltrk_referrer",this.referrer),Session.createCookie("calltrk_landing",this.landing)),e._referrerAndLandingCookiesCreated=!0)},e.prototype.getReferrer=function(){if(e._referrer)return e._referrer;var t=Session.readCookie("calltrk_referrer");return t||(t=Urls.getCurrentReferrer()),e._referrer=t,t},e.prototype.getLanding=function(){if(e._landing)return e._landing;var t=Session.readCookie("calltrk_landing");return t||(t=Wrappers.documentURL()),e._landing=t,t},e.prototype.getSecondScript=function(t,r,n){var a={cid:Urls.getURLParameter("cid"),uuid:Session.getSessionID(),ref:this.getCurrentReferrer(),landing:Wrappers.documentURL(),user_agent:navigator.userAgent,record_pageview:r&&!Dom.iframeConflict(this.id),domless:n,swaps:[],all_formats:!0};Session.isMulti()||(a.ids=Session.namespaceIds());var o=IntegrationData.getIntegrationData();Polyfills.assign(a,o);var i={};for(var s in t){var c=t[s]||"",u=c;"object"==typeof c&&(u=c.national_string),u||(i[s]=null),a.swaps.push(s+"="+u)}if(Object.keys(i).length&&this.mergeUnassignedSwaps(i),"withCredentials"in new XMLHttpRequest){a.perf=Performance.perfData(),Performance.reset();var l=this.swapSessionURL().replace(/\.js$/,".json");Helpers.postScript(l,a,function(t){e.parseSessionSwap(t)})}else Dom.getScript(this.swapSessionURL(),a)},e.parseSessionSwap=function(t){!0===t.domless?e.swapCallback(t.a):!0===t.number_assignment&&(e.mergeStoredSwaps(t.a),e.mergeUnassignedSwaps(t.a),e.startSessionSwap(t.r)),Dom.makePhoneSwapVisible(),!0===t.integration_retry&&IntegrationData.integrationRetry(t.integration_retries)},e.prototype.getWidgetScripts=function(){var e=this,t=function(t){e.endpoints[t]&&-1===CallTrk.appendedScripts.indexOf(t)&&(Dom.getScript(e.endpoints[t],{},!0),CallTrk.appendedScripts.push(t))};Polyfills.documentReady(function(){e.endpoints.chat&&Dom.getScript(e.endpoints.chat,{},!0),e.endpoints.contact&&!e.endpoints.chat&&Dom.getScript(e.endpoints.contact,{},!0),e.endpoints.external_chats&&Dom.getScript(e.endpoints.external_chats,{},!0),t("custom_forms"),t("external_forms")})},e.firstNamespace=function(){return CallTrk.firstNamespace()},e.generateUUID=function(){return Session.generateUUID()},e.getSessionID=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Session.getSessionID.apply(Session,e)},e.readCookie=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Session.readCookie.apply(Session,e)},e.createCookie=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Session.createCookie.apply(Session,e)},e.eraseCookie=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Session.eraseCookie.apply(Session,e)},e.getFormCaptureCookie=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Session.getFormCaptureCookie.apply(Session,e)},e.getReferrerKey=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Urls.getReferrerKey.apply(Urls,e)},e.isMulti=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Session.isMulti.apply(Session,e)},e.stringTargets=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ScanString.stringTargets.apply(ScanString,e)},e.intlStringTargets=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ScanString.intlStringTargets.apply(ScanString,e)},e.whenPageVisible=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Dom.whenPageVisible.apply(Dom,e)},e.prototype.iframeConflict=function(){return Dom.iframeConflict(this.id)},e.prototype.getCurrentReferrer=function(){return Urls.getCurrentReferrer()},e.prototype.getHostnameAndPath=function(){
return Urls.getHostnameAndPath()},e.prototype.getURLParameter=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Urls.getURLParameter.apply(Urls,e)},e.prototype.getGoogleContentExperimentCookies=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return IntegrationData.getGoogleContentExperimentCookies.apply(IntegrationData,e)},e.prototype.postWordpressCookies=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Helpers.postWordpressCookies.apply(Helpers,e)},e.scanString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ScanString.scan.apply(ScanString,e)},e._log=[],e._unassigns=[],e._isDebug=Debug._isDebug,e.doneSwaps=Debug.doneSwaps,e.foundTargets=Debug.foundTargets,e.imports={CallTrk:CallTrk,Debug:Debug,Dom:Dom,Helpers:Helpers,IntegrationData:IntegrationData,NumberSwap:NumberSwap,Performance:Performance,PhoneNumbers:PhoneNumbers,Poll:Poll,Polyfills:Polyfills,Replacer:Replacer,ScanString:ScanString,Session:Session,Storage:Storage,Urls:Urls,Wrappers:Wrappers},e}(),CallTrk=function(){function e(){}return e.pushNamespace=function(ns,t){for(var r=e._namespaces,n=0;n<r.length;++n)if(r[n]===ns)return;r.push(ns),t&&(e._namespaceObjs[ns]=t)},e.eachNamespace=function(t){for(var r=e._namespaces,n=0;n<r.length;++n){var ns=r[n];t(e._namespaceObjs[ns])}},e.prototype.findNamespace=function(t){for(var r=e._namespaces,n=0;n<r.length;++n){var ns=r[n];if(t(e._namespaceObjs[ns]))return ns}return null},e.firstNamespace=function(){return e._namespaceObjs[e._namespaces[0]]},e.swap=function(e){Debug.doneSwaps={},Debug.foundTargets=[],e=e||document.body,CallTrkSwap.startSourceSwap(e),CallTrkSwap.checkSessionSwap(!1,e)},e.getSwapNumbers=function(t,r){Polyfills.isArray(t)||(t=[t]);for(var n=e.knownSwapAssignments(),a=e._namespaces[0],ns=e._namespaceObjs[a],o={},i=0;i<t.length;i++){var s=t[i];n[s]&&(o[s]=PhoneNumbers.defaultNumberFormat(n[s]),t.splice(i--,1))}return 0===t.length?r(o):ns.domlessSessionSwap(t,function(e){e=e&&e[ns.id]||{};for(var t in e)o[t]=PhoneNumbers.defaultNumberFormat(e[t]);r(o)}),o},e.knownSwapAssignments=function(){var t={};e.eachNamespace(function(ns){var e=ns.getStoredSwaps();for(var r in e)t[r]=e[r]});for(var r=CallTrkSwap.matchingSourceTrackers(),n=0;n<r.length;n++)for(var a=r[n],o=0;o<a.swap_targets.length;o++){var i=a.swap_targets[o];t[i]||(t[i]=a.number)}return t},e._namespaces=[],e._namespaceObjs={},e.appendedScripts=[],e.typescript=!0,e}();Dom.injectCss(),Performance.perfData(),Debug._isDebug=Debug._debugEnabled(),window.CallTrkSwap=window.CallTrkSwap||CallTrkSwap,window.CallTrk=window.CallTrk||CallTrk,console.log("swap.ts")}();!function(){new CallTrkSwap({id:892229091,cookie_duration:365,cross_subdomain:!0,session_poll_interval:6e4,session_polling:!0,session_observer:null,access_key:"b59e648619f2137eef39",form_capture_config:{enabled:!0,url_scope:"all",urls:[],source:null},trump_landing_param:!1,trump_landing_page_param:null,trump_sources:!1,mutation_observer:!0,is_bot:!1,force_https:!0,data_collection_config:{cookies:{ga:"_ga",utma:"__utma",utmb:"__utmb",utmc:"__utmc",utmv:"__utmv",utmx:"__utmx",utmz:"__utmz"},scripts:{}},source_trackers:[],endpoints:{multiswap_session:"//js.callrail.com/group/0/b59e648619f2137eef39/12/swap_session.js",integration_retry:"//js.callrail.com/group/0/b59e648619f2137eef39/12/icap.js",form_capture:"//app.callrail.com/companies/892229091/b59e648619f2137eef39/12/form_capture.js",poll_session:"//js.callrail.com/group/0/b59e648619f2137eef39/$uuid/poll.js",cr_form:"//js.callrail.com/forms/$formid",external_forms:"//js.callrail.com/companies/892229091/external_forms.js"},swap_session_host:"js.callrail.com",session_number_target_exists:!0,session_exact_targets:[],chat_or_form_exists:!0}).run()}(),CallTrk.installed||(CallTrk.installed=!0,CallTrkSwap.whenPageVisible(function(){CallTrkSwap.swapEntry()}));